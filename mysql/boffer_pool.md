[toc]


# mysql buffer pool
 [参考文章](https://www.modb.pro/db/111341)
## 预读机制 & 传统LRU缺点
1. 预读：
    - 预读概念：操作系统的磁盘读写，并不是按需读取，而是按页读取，一次至少读一页数据（一般是4K），如果未来要读取的数据就在页中，就能够省去后续的磁盘IO，提高效率。
    - 有效性：数据局部性原理
    - 按页（4K）读区与缓冲池关系：缓冲池按页缓存数据，可能访问数据提前放入内存，提高效率
2. LRU：
    - 页已经在缓冲池里，那就只做“移至”LRU头部的动作，而没有页被淘汰。
    - 页不在缓冲池里，除了做“放入”LRU头部的动作，还要做“淘汰”LRU尾部页的动作。
    - 预读失效：由于预读（Read-Ahead），提前把页放入了缓冲池，但最终MySQL并没有从页中读取数据，称为预读失效
    - 缓冲池污染：当某一个SQL语句，要批量扫描大量数据时，可能导致把缓冲池的所有页都替换出去，导致大量热数据被换出，MySQL性能急剧下降，这种情况叫缓冲池污染。
## mysql采用的LRU（LRU-List）
### mysql的LRU机制优化思路：
   - 让缓冲池里于都失败的缓冲液尽快替换出
   - 将读取的热数据放到LRU头部
   